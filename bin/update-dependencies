#!/usr/bin/env bash

function all-rubies-do() {
  OIFS=$IFS
  IFS='\n'
  local versions=($(rbenv versions --bare | sort -r))
  IFS=$OIFS
  versions+=("system")

  for rb in ${versions[@]}
  do
    export RBENV_VERSION=${rb}
    eval "$@"
  done

  unset RBENV_VERSION
}

echo 'updating lua dependency...'
brew install lua &>/dev/null

echo 'updating python dependencies...'
pip install --force-reinstall neovim &>/dev/null
pip3 install --force-reinstall neovim-remote &>/dev/null

echo 'updating ruby dependencies...'
for-each-ruby gem install neovim &>/dev/null
for-each-ruby gem install rcodetools &>/dev/null
